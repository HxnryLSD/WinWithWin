{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "WinWithWin Tweaks Configuration",
  "type": "object",
  "required": ["version", "tweaks"],
  "properties": {
    "version": {
      "type": "string",
      "description": "Configuration version"
    },
    "tweaks": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["id", "name", "category", "risk", "description", "supportedVersions", "functions"],
        "properties": {
          "id": {
            "type": "string",
            "pattern": "^[a-z_]+$",
            "description": "Unique identifier for the tweak"
          },
          "name": {
            "type": "string",
            "description": "Display name for the tweak"
          },
          "category": {
            "type": "string",
            "enum": ["Privacy", "Performance", "Security", "Debloat"],
            "description": "Category of the tweak"
          },
          "risk": {
            "type": "string",
            "enum": ["Safe", "Moderate", "Advanced"],
            "description": "Risk level of applying this tweak"
          },
          "description": {
            "type": "string",
            "description": "Detailed description of what this tweak does"
          },
          "supportedVersions": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": ["Windows10", "Windows11"]
            },
            "description": "Windows versions this tweak supports"
          },
          "functions": {
            "type": "object",
            "required": ["test", "set", "undo"],
            "properties": {
              "test": {
                "type": "string",
                "description": "Function to test if tweak is applied"
              },
              "set": {
                "type": "string",
                "description": "Function to apply the tweak"
              },
              "undo": {
                "type": "string",
                "description": "Function to undo the tweak"
              }
            }
          },
          "registryKeys": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Registry keys modified by this tweak"
          }
        }
      }
    }
  }
}
